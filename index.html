
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Net Worth Perspective Tool</title>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #121212;
      color: #f5f5f5;
      font-family: 'Merriweather', serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .calculator-container {
      background-color: #1e1e1e;
      padding: 2em;
      border-radius: 12px;
      max-width: 420px;
      width: 100%;
      box-shadow: 0 0 15px rgba(255,255,255,0.05);
    }
    h1 { font-size: 1.8em; margin-bottom: 0.5em; }
    label, input, button {
      display: block;
      width: 100%;
      margin-top: 1em;
    }
    input {
      padding: 0.75em;
      background-color: #2c2c2c;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-family: 'Merriweather', serif;
    }
    button {
      background-color: #4caf50;
      color: white;
      padding: 0.75em;
      border: none;
      border-radius: 6px;
      margin-top: 1.2em;
      cursor: pointer;
      font-family: 'Merriweather', serif;
    }
    #result { margin-top: 1em; font-size: 1.1em; }
    .chart-bar {
      background-color: #333;
      height: 24px;
      width: 100%;
      border-radius: 12px;
      overflow: hidden;
      margin-top: 1em;
    }
    .chart-fill {
      background-color: #4caf50;
      height: 100%;
      text-align: right;
      padding-right: 8px;
      color: #fff;
      font-weight: bold;
      line-height: 24px;
      border-radius: 12px 0 0 12px;
    }
    .credit { font-size: 0.8em; color: #aaa; margin-top: 1.5em; text-align: center; }
  </style>
</head>
<body>
  <div class="calculator-container">
    <h1>Net Worth Perspective Tool</h1>
    <form onsubmit="calculate(event)">
      <label for="age">Age</label>
      <input type="number" id="age" required>
      <label for="netWorth">Net Worth ($)</label>
      <input type="text" id="netWorth" required oninput="formatNetWorth(this)">
      <button type="submit">Calculate</button>
    </form>
    <div id="result"></div>
    <div class="credit">Data sourced from Federal Reserve and DQYDJ.</div>
  </div>
  <script>
    const data = {"18-24":{1:3.52,2:7.04,3:10.56,4:14.08,5:17.6,6:21.12,7:24.64,8:28.16,9:31.68,10:35.2,11:38.72,12:42.24,13:45.76,14:49.28,15:52.8,16:56.32,17:59.84,18:63.36,19:66.88,20:70.4,21:73.92,22:77.44,23:80.96,24:84.48,25:88.0,26:493.36,27:898.72,28:1304.08,29:1709.44,30:2114.8,31:2520.16,32:2925.52,33:3330.88,34:3736.24,35:4141.6,36:4546.96,37:4952.32,38:5357.68,39:5763.04,40:6168.4,41:6573.76,42:6979.12,43:7384.48,44:7789.84,45:8195.2,46:8600.56,47:9005.92,48:9411.28,49:9816.64,50:10222.0,51:11169.04,52:12116.08,53:13063.12,54:14010.16,55:14957.2,56:15904.24,57:16851.28,58:17798.32,59:18745.36,60:19692.4,61:20639.44,62:21586.48,63:22533.52,64:23480.56,65:24427.6,66:25374.64,67:26321.68,68:27268.72,69:28215.76,70:29162.8,71:30109.84,72:31056.88,73:32003.92,74:32950.96,75:33898.0,76:43939.2,77:53980.4,78:64021.6,79:74062.8,80:84104.0,81:94145.2,82:104186.4,83:114227.6,84:124268.8,85:134310.0,86:144351.2,87:154392.4,88:164433.6,89:174474.8,90:184516.0,91:236594.67,92:288673.33,93:340752.0,94:392830.67,95:444909.33,96:496988.0,97:549066.67,98:601145.33,99:653224.0},"25-29":{1:151.36,2:302.72,3:454.08,4:605.44,5:756.8,6:908.16,7:1059.52,8:1210.88,9:1362.24,10:1513.6,11:1664.96,12:1816.32,13:1967.68,14:2119.04,15:2270.4,16:2421.76,17:2573.12,18:2724.48,19:2875.84,20:3027.2,21:3178.56,22:3329.92,23:3481.28,24:3632.64,25:3784.0,26:4891.44,27:5998.88,28:7106.32,29:8213.76,30:9321.2,31:10428.64,32:11536.08,33:12643.52,34:13750.96,35:14858.4,36:15965.84,37:17073.28,38:18180.72,39:19288.16,40:20395.6,41:21503.04,42:22610.48,43:23717.92,44:24825.36,45:25932.8,46:27040.24,47:28147.68,48:29255.12,49:30362.56,50:31470.0,51:35435.44,52:39400.88,53:43366.32,54:47331.76,55:51297.2,56:55262.64,57:59228.08,58:63193.52,59:67158.96,60:71124.4,61:75089.84,62:79055.28,63:83020.72,64:86986.16,65:90951.6,66:94917.04,67:98882.48,68:102847.92,69:106813.36,70:110778.8,71:114744.24,72:118709.68,73:122675.12,74:126640.56,75:130606.0,76:141687.6,77:152769.2,78:163850.8,79:174932.4,80:186014.0,81:197095.6,82:208177.2,83:219258.8,84:230340.4,85:241422.0,86:252503.6,87:263585.2,88:274666.8,89:285748.4,90:296830.0,91:499616.67,92:702403.33,93:905190.0,94:1107976.67,95:1310763.33,96:1513550.0,97:1716336.67,98:1919123.33,99:2121910.0},"30-34":{1:440.64,2:881.28,3:1321.92,4:1762.56,5:2203.2,6:2643.84,7:3084.48,8:3525.12,9:3965.76,10:4406.4,11:4847.04,12:5287.68,13:5728.32,14:6168.96,15:6609.6,16:7050.24,17:7490.88,18:7931.52,19:8372.16,20:8812.8,21:9253.44,22:9694.08,23:10134.72,24:10575.36,25:11016.0,26:14120.6,27:17225.2,28:20329.8,29:23434.4,30:26539.0,31:29643.6,32:32748.2,33:35852.8,34:38957.4,35:42062.0,36:45166.6,37:48271.2,38:51375.8,39:54480.4,40:57585.0,41:60689.6,42:63794.2,43:66898.8,44:70003.4,45:73108.0,46:76212.6,47:79317.2,48:82421.8,49:85526.4,50:88631.0,51:92531.36,52:96431.72,53:100332.08,54:104232.44,55:108132.8,56:112033.16,57:115933.52,58:119833.88,59:123734.24,60:127634.6,61:131534.96,62:135435.32,63:139335.68,64:143236.04,65:147136.4,66:151036.76,67:154937.12,68:158837.48,69:162737.84,70:166638.2,71:170538.56,72:174438.92,73:178339.28,74:182239.64,75:186140.0,76:209647.33,77:233154.67,78:256662.0,79:280169.33,80:303676.67,81:327184.0,82:350691.33,83:374198.67,84:397706.0,85:421213.33,86:444720.67,87:468228.0,88:491735.33,89:515242.67,90:538750.0,91:771875.78,92:1005001.56,93:1238127.33,94:1471253.11,95:1704378.89,96:1937504.67,97:2170630.44,98:2403756.22,99:2636882.0},"35-39":{1:661.92,2:1323.84,3:1985.76,4:2647.68,5:3309.6,6:3971.52,7:4633.44,8:5295.36,9:5957.28,10:6619.2,11:7281.12,12:7943.04,13:8604.96,14:9266.88,15:9928.8,16:10590.72,17:11252.64,18:11914.56,19:12576.48,20:13238.4,21:13900.32,22:14562.24,23:15224.16,24:15886.08,25:16548.0,26:21429.6,27:26311.2,28:31192.8,29:36074.4,30:40956.0,31:45837.6,32:50719.2,33:55600.8,34:60482.4,35:65364.0,36:70245.6,37:75127.2,38:80008.8,39:84890.4,40:89772.0,41:94653.6,42:99535.2,43:104416.8,44:109298.4,45:114180.0,46:119061.6,47:123943.2,48:128824.8,49:133706.4,50:138588.0,51:148621.76,52:158655.52,53:168689.28,54:178723.04,55:188756.8,56:198790.56,57:208824.32,58:218858.08,59:228891.84,60:238925.6,61:248959.36,62:258993.12,63:269026.88,64:279060.64,65:289094.4,66:299128.16,67:309161.92,68:319195.68,69:329229.44,70:339263.2,71:349296.96,72:359330.72,73:369364.48,74:379398.24,75:389432.0,76:421092.53,77:452753.07,78:484413.6,79:516074.13,80:547734.67,81:579395.2,82:611055.73,83:642716.27,84:674376.8,85:706037.33,86:737697.87,87:769358.4,88:801018.93,89:832679.47,90:864340.0,91:1295115.56,92:1725891.11,93:2156666.67,94:2587442.22,95:3018217.78,96:3448993.33,97:3879768.89,98:4310544.44,99:4741320.0},"40-44":{1:952.48,2:1904.96,3:2857.44,4:3809.92,5:4762.4,6:5714.88,7:6667.36,8:7619.84,9:8572.32,10:9524.8,11:10477.28,12:11429.76,13:12382.24,14:13334.72,15:14287.2,16:15239.68,17:16192.16,18:17144.64,19:18097.12,20:19049.6,21:20002.08,22:20954.56,23:21907.04,24:22859.52,25:23812.0,26:28234.8,27:32657.6,28:37080.4,29:41503.2,30:45926.0,31:50348.8,32:54771.6,33:59194.4,34:63617.2,35:68040.0,36:72462.8,37:76885.6,38:81308.4,39:85731.2,40:90154.0,41:94576.8,42:98999.6,43:103422.4,44:107845.2,45:112268.0,46:116690.8,47:121113.6,48:125536.4,49:129959.2,50:134382.0,51:146482.4,52:158582.8,53:170683.2,54:182783.6,55:194884.0,56:206984.4,57:219084.8,58:231185.2,59:243285.6,60:255386.0,61:267486.4,62:279586.8,63:291687.2,64:303787.6,65:315888.0,66:327988.4,67:340088.8,68:352189.2,69:364289.6,70:376390.0,71:388490.4,72:400590.8,73:412691.2,74:424791.6,75:436892.0,76:486604.53,77:536317.07,78:586029.6,79:635742.13,80:685454.67,81:735167.2,82:784879.73,83:834592.27,84:884304.8,85:934017.33,86:983729.87,87:1033442.4,88:1083154.93,89:1132867.47,90:1182580.0,91:1921784.44,92:2660988.89,93:3400193.33,94:4139397.78,95:4878602.22,96:5617806.67,97:6357011.11,98:7096215.56,99:7835420.0},"45-49":{1:1906.72,2:3813.44,3:5720.16,4:7626.88,5:9533.6,6:11440.32,7:13347.04,8:15253.76,9:17160.48,10:19067.2,11:20973.92,12:22880.64,13:24787.36,14:26694.08,15:28600.8,16:30507.52,17:32414.24,18:34320.96,19:36227.68,20:38134.4,21:40041.12,22:41947.84,23:43854.56,24:45761.28,25:47668.0,26:54304.72,27:60941.44,28:67578.16,29:74214.88,30:80851.6,31:87488.32,32:94125.04,33:100761.76,34:107398.48,35:114035.2,36:120671.92,37:127308.64,38:133945.36,39:140582.08,40:147218.8,41:153855.52,42:160492.24,43:167128.96,44:173765.68,45:180402.4,46:187039.12,47:193675.84,48:200312.56,49:206949.28,50:213586.0,51:232254.48,52:250922.96,53:269591.44,54:288259.92,55:306928.4,56:325596.88,57:344265.36,58:362933.84,59:381602.32,60:400270.8,61:418939.28,62:437607.76,63:456276.24,64:474944.72,65:493613.2,66:512281.68,67:530950.16,68:549618.64,69:568287.12,70:586955.6,71:605624.08,72:624292.56,73:642961.04,74:661629.52,75:680298.0,76:730192.4,77:780086.8,78:829981.2,79:879875.6,80:929770.0,81:979664.4,82:1029558.8,83:1079453.2,84:1129347.6,85:1179242.0,86:1229136.4,87:1279030.8,88:1328925.2,89:1378819.6,90:1428714.0,91:2236801.33,92:3044888.67,93:3852976.0,94:4661063.33,95:5469150.67,96:6277238.0,97:7085325.33,98:7893412.67,99:8701500.0},"50-54":{1:2176.56,2:4353.12,3:6529.68,4:8706.24,5:10882.8,6:13059.36,7:15235.92,8:17412.48,9:19589.04,10:21765.6,11:23942.16,12:26118.72,13:28295.28,14:30471.84,15:32648.4,16:34824.96,17:37001.52,18:39178.08,19:41354.64,20:43531.2,21:45707.76,22:47884.32,23:50060.88,24:52237.44,25:54414.0,26:62883.04,27:71352.08,28:79821.12,29:88290.16,30:96759.2,31:105228.24,32:113697.28,33:122166.32,34:130635.36,35:139104.4,36:147573.44,37:156042.48,38:164511.52,39:172980.56,40:181449.6,41:189918.64,42:198387.68,43:206856.72,44:215325.76,45:223794.8,46:232263.84,47:240732.88,48:249201.92,49:257670.96,50:266140.0,51:292014.88,52:317889.76,53:343764.64,54:369639.52,55:395514.4,56:421389.28,57:447264.16,58:473139.04,59:499013.92,60:524888.8,61:550763.68,62:576638.56,63:602513.44,64:628388.32,65:654263.2,66:680138.08,67:706012.96,68:731887.84,69:757762.72,70:783637.6,71:809512.48,72:835387.36,73:861262.24,74:887137.12,75:913012.0,76:1023913.87,77:1134815.73,78:1245717.6,79:1356619.47,80:1467521.33,81:1578423.2,82:1689325.07,83:1800226.93,84:1911128.8,85:2022030.67,86:2132932.53,87:2243834.4,88:2354736.27,89:2465638.13,90:2576540.0,91:3760473.33,92:4944406.67,93:6128340.0,94:7312273.33,95:8496206.67,96:9680140.0,97:10864073.33,98:12048006.67,99:13231940.0},"55-59":{1:3399.08,2:6798.16,3:10197.24,4:13596.32,5:16995.4,6:20394.48,7:23793.56,8:27192.64,9:30591.72,10:33990.8,11:37389.88,12:40788.96,13:44188.04,14:47587.12,15:50986.2,16:54385.28,17:57784.36,18:61183.44,19:64582.52,20:67981.6,21:71380.68,22:74779.76,23:78178.84,24:81577.92,25:84977.0,26:94420.88,27:103864.76,28:113308.64,29:122752.52,30:132196.4,31:141640.28,32:151084.16,33:160528.04,34:169971.92,35:179415.8,36:188859.68,37:198303.56,38:207747.44,39:217191.32,40:226635.2,41:236079.08,42:245522.96,43:254966.84,44:264410.72,45:273854.6,46:283298.48,47:292742.36,48:302186.24,49:311630.12,50:321074.0,51:353723.76,52:386373.52,53:419023.28,54:451673.04,55:484322.8,56:516972.56,57:549622.32,58:582272.08,59:614921.84,60:647571.6,61:680221.36,62:712871.12,63:745520.88,64:778170.64,65:810820.4,66:843470.16,67:876119.92,68:908769.68,69:941419.44,70:974069.2,71:1006718.96,72:1039368.72,73:1072018.48,74:1104668.24,75:1137318.0,76:1239640.8,77:1341963.6,78:1444286.4,79:1546609.2,80:1648932.0,81:1751254.8,82:1853577.6,83:1955900.4,84:2058223.2,85:2160546.0,86:2262868.8,87:2365191.6,88:2467514.4,89:2569837.2,90:2672160.0,91:4083218.22,92:5494276.44,93:6905334.67,94:8316392.89,95:9727451.11,96:11138509.33,97:12549567.56,98:13960625.78,99:15371684.0},"60-64":{1:3214.88,2:6429.76,3:9644.64,4:12859.52,5:16074.4,6:19289.28,7:22504.16,8:25719.04,9:28933.92,10:32148.8,11:35363.68,12:38578.56,13:41793.44,14:45008.32,15:48223.2,16:51438.08,17:54652.96,18:57867.84,19:61082.72,20:64297.6,21:67512.48,22:70727.36,23:73942.24,24:77157.12,25:80372.0,26:92871.52,27:105371.04,28:117870.56,29:130370.08,30:142869.6,31:155369.12,32:167868.64,33:180368.16,34:192867.68,35:205367.2,36:217866.72,37:230366.24,38:242865.76,39:255365.28,40:267864.8,41:280364.32,42:292863.84,43:305363.36,44:317862.88,45:330362.4,46:342861.92,47:355361.44,48:367860.96,49:380360.48,50:392860.0,51:422390.48,52:451920.96,53:481451.44,54:510981.92,55:540512.4,56:570042.88,57:599573.36,58:629103.84,59:658634.32,60:688164.8,61:717695.28,62:747225.76,63:776756.24,64:806286.72,65:835817.2,66:865347.68,67:894878.16,68:924408.64,69:953939.12,70:983469.6,71:1013000.08,72:1042530.56,73:1072061.04,74:1101591.52,75:1131122.0,76:1258532.53,77:1385943.07,78:1513353.6,79:1640764.13,80:1768174.67,81:1895585.2,82:2022995.73,83:2150406.27,84:2277816.8,85:2405227.33,86:2532637.87,87:2660048.4,88:2787458.93,89:2914869.47,90:3042280.0,91:4689800.0,92:6337320.0,93:7984840.0,94:9632360.0,95:11279880.0,96:12927400.0,97:14574920.0,98:16222440.0,99:17869960.0},"65-69":{1:2758.88,2:5517.76,3:8276.64,4:11035.52,5:13794.4,6:16553.28,7:19312.16,8:22071.04,9:24829.92,10:27588.8,11:30347.68,12:33106.56,13:35865.44,14:38624.32,15:41383.2,16:44142.08,17:46900.96,18:49659.84,19:52418.72,20:55177.6,21:57936.48,22:60695.36,23:63454.24,24:66213.12,25:68972.0,26:81952.32,27:94932.64,28:107912.96,29:120893.28,30:133873.6,31:146853.92,32:159834.24,33:172814.56,34:185794.88,35:198775.2,36:211755.52,37:224735.84,38:237716.16,39:250696.48,40:263676.8,41:276657.12,42:289637.44,43:302617.76,44:315598.08,45:328578.4,46:341558.72,47:354539.04,48:367519.36,49:380499.68,50:393480.0,51:423922.88,52:454365.76,53:484808.64,54:515251.52,55:545694.4,56:576137.28,57:606580.16,58:637023.04,59:667465.92,60:697908.8,61:728351.68,62:758794.56,63:789237.44,64:819680.32,65:850123.2,66:880566.08,67:911008.96,68:941451.84,69:971894.72,70:1002337.6,71:1032780.48,72:1063223.36,73:1093666.24,74:1124109.12,75:1154552.0,76:1274985.87,77:1395419.73,78:1515853.6,79:1636287.47,80:1756721.33,81:1877155.2,82:1997589.07,83:2118022.93,84:2238456.8,85:2358890.67,86:2479324.53,87:2599758.4,88:2720192.27,89:2840626.13,90:2961060.0,91:5087904.44,92:7214748.89,93:9341593.33,94:11468437.78,95:13595282.22,96:15722126.67,97:17848971.11,98:19975815.56,99:22102660.0},"70-74":{1:4990.28,2:9980.56,3:14970.84,4:19961.12,5:24951.4,6:29941.68,7:34931.96,8:39922.24,9:44912.52,10:49902.8,11:54893.08,12:59883.36,13:64873.64,14:69863.92,15:74854.2,16:79844.48,17:84834.76,18:89825.04,19:94815.32,20:99805.6,21:104795.88,22:109786.16,23:114776.44,24:119766.72,25:124757.0,26:137314.72,27:149872.44,28:162430.16,29:174987.88,30:187545.6,31:200103.32,32:212661.04,33:225218.76,34:237776.48,35:250334.2,36:262891.92,37:275449.64,38:288007.36,39:300565.08,40:313122.8,41:325680.52,42:338238.24,43:350795.96,44:363353.68,45:375911.4,46:388469.12,47:401026.84,48:413584.56,49:426142.28,50:438700.0,51:470549.84,52:502399.68,53:534249.52,54:566099.36,55:597949.2,56:629799.04,57:661648.88,58:693498.72,59:725348.56,60:757198.4,61:789048.24,62:820898.08,63:852747.92,64:884597.76,65:916447.6,66:948297.44,67:980147.28,68:1011997.12,69:1043846.96,70:1075696.8,71:1107546.64,72:1139396.48,73:1171246.32,74:1203096.16,75:1234946.0,76:1352576.0,77:1470206.0,78:1587836.0,79:1705466.0,80:1823096.0,81:1940726.0,82:2058356.0,83:2175986.0,84:2293616.0,85:2411246.0,86:2528876.0,87:2646506.0,88:2764136.0,89:2881766.0,90:2999396.0,91:4750749.78,92:6502103.56,93:8253457.33,94:10004811.11,95:11756164.89,96:13507518.67,97:15258872.44,98:17010226.22,99:18761580.0},"75-79":{1:3580.16,2:7160.32,3:10740.48,4:14320.64,5:17900.8,6:21480.96,7:25061.12,8:28641.28,9:32221.44,10:35801.6,11:39381.76,12:42961.92,13:46542.08,14:50122.24,15:53702.4,16:57282.56,17:60862.72,18:64442.88,19:68023.04,20:71603.2,21:75183.36,22:78763.52,23:82343.68,24:85923.84,25:89504.0,26:99451.04,27:109398.08,28:119345.12,29:129292.16,30:139239.2,31:149186.24,32:159133.28,33:169080.32,34:179027.36,35:188974.4,36:198921.44,37:208868.48,38:218815.52,39:228762.56,40:238709.6,41:248656.64,42:258603.68,43:268550.72,44:278497.76,45:288444.8,46:298391.84,47:308338.88,48:318285.92,49:328232.96,50:338180.0,51:364313.6,52:390447.2,53:416580.8,54:442714.4,55:468848.0,56:494981.6,57:521115.2,58:547248.8,59:573382.4,60:599516.0,61:625649.6,62:651783.2,63:677916.8,64:704050.4,65:730184.0,66:756317.6,67:782451.2,68:808584.8,69:834718.4,70:860852.0,71:886985.6,72:913119.2,73:939252.8,74:965386.4,75:991520.0,76:1119697.87,77:1247875.73,78:1376053.6,79:1504231.47,80:1632409.33,81:1760587.2,82:1888765.07,83:2016942.93,84:2145120.8,85:2273298.67,86:2401476.53,87:2529654.4,88:2657832.27,89:2786010.13,90:2914188.0,91:4798044.22,92:6681900.44,93:8565756.67,94:10449612.89,95:12333469.11,96:14217325.33,97:16101181.56,98:17985037.78,99:19868894.0},"80+":{1:3809.2,2:7618.4,3:11427.6,4:15236.8,5:19046.0,6:22855.2,7:26664.4,8:30473.6,9:34282.8,10:38092.0,11:41901.2,12:45710.4,13:49519.6,14:53328.8,15:57138.0,16:60947.2,17:64756.4,18:68565.6,19:72374.8,20:76184.0,21:79993.2,22:83802.4,23:87611.6,24:91420.8,25:95230.0,26:104508.8,27:113787.6,28:123066.4,29:132345.2,30:141624.0,31:150902.8,32:160181.6,33:169460.4,34:178739.2,35:188018.0,36:197296.8,37:206575.6,38:215854.4,39:225133.2,40:234412.0,41:243690.8,42:252969.6,43:262248.4,44:271527.2,45:280806.0,46:290084.8,47:299363.6,48:308642.4,49:317921.2,50:327200.0,51:351885.36,52:376570.72,53:401256.08,54:425941.44,55:450626.8,56:475312.16,57:499997.52,58:524682.88,59:549368.24,60:574053.6,61:598738.96,62:623424.32,63:648109.68,64:672795.04,65:697480.4,66:722165.76,67:746851.12,68:771536.48,69:796221.84,70:820907.2,71:845592.56,72:870277.92,73:894963.28,74:919648.64,75:944334.0,76:1050745.07,77:1157156.13,78:1263567.2,79:1369978.27,80:1476389.33,81:1582800.4,82:1689211.47,83:1795622.53,84:1902033.6,85:2008444.67,86:2114855.73,87:2221266.8,88:2327677.87,89:2434088.93,90:2540500.0,91:4061533.33,92:5582566.67,93:7103600.0,94:8624633.33,95:10145666.67,96:11666700.0,97:13187733.33,98:14708766.67,99:16229800.0}};

    function getBracket(age) {
      const brackets = Object.keys(data);
      for (let bracket of brackets) {
        const [min, max] = bracket.includes("+") ? [parseInt(bracket), Infinity] : bracket.split('-').map(Number);
        if (age >= min && age <= max) return data[bracket];
      }
      return null;
    }

    function formatNetWorth(input) {
      let value = input.value.replace(/[^0-9\-]/g, '');
      if (value === '-') {
        input.value = '-';
        return;
      }
      const numeric = parseFloat(value.replace(/,/g, ''));
      if (!isNaN(numeric)) {
        input.value = numeric.toLocaleString('en-US');
      }
    }

    function parseFormattedNumber(value) {
      return parseFloat(value.replace(/,/g, ''));
    }

    function calculate(event) {
      event.preventDefault();
      const age = parseInt(document.getElementById("age").value);
      const netWorth = parseFormattedNumber(document.getElementById("netWorth").value);
      const result = document.getElementById("result");
      const bracket = getBracket(age);

      if (!bracket) {
        result.innerHTML = "<p>Sorry, age out of range (must be 25+).</p>";
        return;
      }

      let percentile = 1;
      const percentiles = Object.keys(bracket).map(Number).sort((a,b) => a-b);

      for (let i = 0; i < percentiles.length-1; i++) {
        const p1 = percentiles[i], p2 = percentiles[i+1];
        const v1 = bracket[p1], v2 = bracket[p2];

        if (netWorth >= v1 && netWorth < v2) {
          const frac = (netWorth-v1)/(v2-v1);
          percentile = p1 + frac*(p2-p1);
          break;
        }
      }
      if (netWorth >= bracket[99]) {
        result.innerHTML = `<p>You are in the <strong>Top 1%</strong> of your peers for net worth.</p>`;
        return;
      }
      percentile = Math.round(percentile*10)/10;
      result.innerHTML = `<p>Your net worth is approximately at the <strong>${percentile}th</strong> percentile.</p>
      <div class="chart-bar"><div class="chart-fill" style="width: ${percentile}%;">${percentile}%</div></div>`;
    }
  </script>
</body>
</html>
